<!--
  ~ Copyright (C) 2007-2019 Crafter Software Corporation. All Rights Reserved.
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="recover-view">
    <div class="pad">

        <button class="close" ui-sref="login" ng-show="!success">&laquo; {{ 'dashboard.login.BACK' | translate }}</button>
        <h2>{{ 'dashboard.login.RECOVER' | translate }}</h2>

        <div ng-if="success">
            <div class="alert alert-success" ng-if="success">{{success}}</div>
            <button type="submit"
                    class="btn btn-info btn-block"
                    ui-sref="login">
                &laquo; {{ 'dashboard.login.BACK_TO_LOGIN' | translate }}
            </button>
        </div>

        <div class="row" ng-if="!success">
            <div class="col-lg-12 columns">
                <div class="form-group">
                    <label for="username" style="margin-top: 15px; margin-bottom: 10px;">{{ 'dashboard.login.RECOVER_LABEL' | translate }}</label>
                    <input type="text" id="username"
                           class="form-control" placeholder=""
                           ng-model="credentials.username" required
                           ng-disabled="recoverProcessing"/>
                </div>
            </div>
            <div ng-show="!recoverSuccess" class="col-lg-12 columns">
                <div class="alert alert-danger" ng-if="error">{{error}}</div>
                <button type="submit" class="btn btn-primary"
                        ng-click="forgotPassword()"
                        ng-disabled="!credentials.username || recoverProcessing">
                    {{ 'dashboard.login.SUBMIT' | translate }}
                </button>
                <span class="cstudio-spinner ml15" data-ng-show="recoverProcessing"></span>
            </div>

            <div ng-show="recoverSuccess" class="col-lg-12 columns">
                <div class="alert alert-success" ng-if="successMessage">{{successMessage}}</div>

                <button type="submit" class="btn btn-primary"
                        ui-sref="login">
                    {{ 'dashboard.login.BACK_TO_LOGIN' | translate }}
                </button>
            </div>
        </div>

    </div>
</div>