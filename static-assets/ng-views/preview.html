<!--
  ~ Copyright (C) 2007-2019 Crafter Software Corporation. All Rights Reserved.
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="preview-container">
    <header ui-view="header">
        <nav class="navbar navbar-default navbar-static-top" role="navigation">
            <div class="container-fluid">

                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" ui-sref="home.sites">
                        <img src="/studio/static-assets/images/crafter_studio_360.png" alt="Crafter Studio"/>
                    </a>
                </div>

                <div class="collapse navbar-collapse">

                    <form class="navbar-form navbar-right" role="search">
                        <div class="form-group">
                            <input type="text" class="form-control"
                                   placeholder="Send a message..."
                                   ng-model="data.message"/>
                        </div>
                        <button type="button" ng-click="sendMessage()" class="btn btn-default">Submit</button>
                        <button type="button" ng-click="reloadIFrame()" class="btn btn-default">Reload</button>
                    </form>

                    <ul class="nav navbar-nav">
                        <li class="dropdown studio-sites-dropdown" dropdown>
                            <a class="dropdown-toggle" dropdown-toggle>Sites <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a ui-sref-active="active" ui-sref="home.settings">Settings</a></li>
                                <li><a ng-click="logout()">Sign out</a></li>
                            </ul>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>
    </header>
    <section id="main">
        <div class="site-window">
            <iframe id="studioIFrame" class="studio-preview-frame" ng-src="{{url}}"></iframe>
        </div>
    </section>
    <footer class="status-bar">
        <div class="status">{{status}}</div>
    </footer>
</div>